(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{4406:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Home",function(){return n(7821)}])},7821:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var i=n(5893),r=n(7294),o=n(2293),l=n(155),s=n(5861),a=n(5819),c=n(948),d=n(1796),h=n(3970),u=n(2761),p=n(3321),x=n(6886),g=n(7357),m=n(3637),f=n(5305),y=n(9886),j=n(6599),b=n(9816),v=n(7911),Z=n(4610),C=n(3104),w=n(1163);/*! js-cookie v3.0.5 | MIT */function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}!function e(t,n){function i(e,i,r){if("undefined"!=typeof document){"number"==typeof(r=k({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in r)r[l]&&(o+="; "+l,!0!==r[l]&&(o+="="+r[l].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+o}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var o=n[r].split("="),l=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(i[s]=t.read(l,s),e===s)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",k({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,k({},this.attributes,t))},withConverter:function(t){return e(k({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),n(6059);let S=()=>{let[e,t]=(0,r.useState)(""),[n,k]=(0,r.useState)(""),[S,D]=(0,r.useState)(),[B,P]=(0,r.useState)([]),[R,W]=(0,r.useState)(""),[I,T]=(0,r.useState)(),_=(0,w.useRouter)(),{myProp:F}=_.query;(0,r.useEffect)(()=>{t(F),A()},[F]);let q=(0,c.ZP)(p.Z)(e=>{let{theme:t}=e;return{backgroundColor:"#004d26","&:hover":{backgroundColor:"#004d26"},color:"white"}}),E=(0,c.ZP)("div")(e=>{let{theme:t}=e;return{position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:(0,d.Fq)(t.palette.common.white,.15),"&:hover":{backgroundColor:(0,d.Fq)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%",[t.breakpoints.up("sm")]:{marginLeft:t.spacing(3),width:"auto"}}}),L=(0,c.ZP)("div")(e=>{let{theme:t}=e;return{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}});(0,c.ZP)(h.ZP)(e=>{let{theme:t}=e;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%",[t.breakpoints.up("md")]:{width:"20ch"}}}});let O=()=>{_.push("/")},U=()=>{_.push("/Signin")},H=()=>{try{_.push({pathname:"/WriteBlogs",query:{myProp:F}})}catch(e){console.error(e.message)}},z=()=>{try{_.push({pathname:"/MyBlogs",query:{myProp:F}})}catch(e){console.error(e.message)}},A=async()=>{try{let e=await fetch("http://localhost:5000/blogs/getAllBlogs"),t=await e.json();if(t){let e=[];for(let n=0;n<t.length;n++){let i=t[n].createdAt,r=new Date(i).toDateString(),o={blogId:t[n]._id,image:t[n].url,title:t[n].title,subDescription:t[n].subDescription,description:t[n].description,author:t[n].email,dates:r};e.push(o)}P(e)}}catch(e){console.error(e.message)}},N=async(t,n)=>{try{_.push({pathname:"/OneBlog",query:{id:n,myProp:e}})}catch(e){console.error(e.message)}},M=e=>{W(e.target.value),k(e.target.value)};return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},children:[(0,i.jsx)("div",{style:{height:"10%"},children:F?(0,i.jsx)(o.Z,{position:"fixed",style:{background:"#00cc66"},children:(0,i.jsx)(m.Z,{maxWidth:"xl",children:(0,i.jsxs)(l.Z,{disableGutters:!0,children:[(0,i.jsx)(s.Z,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Home"}),(0,i.jsxs)(E,{children:[(0,i.jsx)(L,{style:{right:2},children:(0,i.jsx)(u.Z,{style:{color:"black"}})}),(0,i.jsx)("input",{placeholder:"Search here",type:"text",value:n,onChange:M})]}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",position:"fixed",right:5},children:[(0,i.jsx)(a.Z,{children:(0,i.jsx)(s.Z,{noWrap:!0,component:"a",onClick:z,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"Roboto",color:"inherit",textDecoration:"none"},children:"My Blogs"})}),(0,i.jsx)(a.Z,{children:(0,i.jsx)(s.Z,{noWrap:!0,component:"a",onClick:H,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"Roboto",color:"inherit",textDecoration:"none"},children:"Create Blogs"})}),(0,i.jsx)(q,{variant:"contained",href:"/Home",children:"Log out"})]})]})})}):(0,i.jsx)(o.Z,{position:"fixed",style:{background:"#00cc66"},children:(0,i.jsx)(m.Z,{maxWidth:"xl",children:(0,i.jsxs)(l.Z,{disableGutters:!0,children:[(0,i.jsxs)(E,{children:[(0,i.jsx)(L,{style:{right:2},children:(0,i.jsx)(u.Z,{style:{color:"black"}})}),(0,i.jsx)("input",{placeholder:"Search here",type:"text",onChange:e=>W(e.target.value)})]}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",position:"fixed",gap:5,right:5},children:[(0,i.jsx)(q,{variant:"contained",onClick:O,children:"Sign Up"}),(0,i.jsx)(q,{variant:"contained",onClick:U,children:"Log in"})]})]})})})}),(0,i.jsx)("div",{style:{height:"80%",padding:10},children:(0,i.jsx)(g.Z,{sx:{flexGrow:0},children:(0,i.jsx)(x.ZP,{container:!0,columnSpacing:{xs:3},rowSpacing:1,columns:{xs:4,sm:8,md:12},children:B.filter(e=>""===R?e:e.title.toLowerCase().includes(R.toLocaleLowerCase())?e:void 0).map((e,t)=>(0,i.jsx)(f.Z,{style:{padding:"10px",height:460},children:(0,i.jsxs)(y.Z,{style:{width:335,height:470,borderRadius:3,border:"3px solid black"},children:[(0,i.jsxs)(j.Z,{children:[(0,i.jsxs)(b.Z,{children:[(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",fontSize:"10px"},children:[(0,i.jsx)(s.Z,{children:e.author}),(0,i.jsx)(s.Z,{children:e.dates})]}),(0,i.jsx)("center",{children:(0,i.jsx)(s.Z,{style:{color:"black",fontSize:"30px",fontWeight:"bold"},children:e.title})})]}),(0,i.jsx)("center",{children:(0,i.jsx)(v.Z,{src:e.image,alt:"computing Img",style:{width:300,height:190}})})]}),(0,i.jsxs)(Z.Z,{children:[(0,i.jsx)(C.Z,{children:e.subDescription}),(0,i.jsx)(p.Z,{style:{marginRight:"20px",width:"100%"},className:"btn btn-success",onClick:t=>{N(t,e.blogId)},children:"View"})]})]})}))})})})]})};var D=S},6059:function(e,t,n){"use strict";n.r(t);var i=n(5893),r=n(1163),o=n(2293),l=n(155),s=n(5861),a=n(3156),c=n(9661),d=n(5819),h=n(948),u=n(9324),p=n(6650),x=n(7294),g=n(3321),m=n(4054),f=n(7357),y=n(1903);let j=(0,h.ZP)(g.Z)(e=>{let{theme:t}=e;return{backgroundColor:"#006600","&:hover":{backgroundColor:"#006600"},outlineColor:"#006600",color:"white"}}),b=(0,h.ZP)(g.Z)(e=>{let{theme:t}=e;return{color:"black"}}),v={marginBottom:3,fontSize:30,fontWeight:10},Z={width:"100%",marginBottom:50},C=()=>{let[e,t]=(0,x.useState)(""),[n,h]=(0,x.useState)(""),[C,w]=(0,x.useState)(""),[k,S]=(0,x.useState)(""),[D,B]=(0,x.useState)(null),[P,R]=(0,x.useState)(""),[W,I]=(0,x.useState)(null),[T,_]=(0,x.useState)(""),F=(0,r.useRouter)(),{myProp:q}=F.query;(0,x.useEffect)(()=>{t(q)},[q]);let E=e=>{let t=e.target.files[0];t&&(B(t),R(t.name))},L=async()=>{let e=(0,p.iH)(u.t,P);(0,p.KV)(e,D).then(()=>{(0,p.Jt)(e).then(e=>{I(e)}).catch(e=>{console.error(e.message,"Error getting image url")}),B(null)})},O=e=>{""==n&&""==k&&""==C?alert("Please fill all the fields."):""==n?alert("Please fill all the fields."):""==k?alert("Please fill all the fields."):""==C?alert("Please fill all the fields."):""==n&&""==C?alert("Please fill all the fields."):""==n&&""==C?alert("Please fill all the fields."):""===e?alert("Please upload an image."):n.length>30?alert("Title word limit exceeded."):C.length>200?alert("Sub description is too long."):U(e)},U=async()=>{try{let t=await fetch("http://localhost:5000/blogs/WriteBlogs",{method:"POST",body:JSON.stringify({title:n,subDescription:C,description:k,email:e,url:W}),headers:{"Content-Type":"application/json"}}),i=await t.json();i&&alert("Successfully published.")}catch(e){console.error(e.message)}h(""),w(""),S(""),I(""),R("")},H=()=>{h(""),w(""),S(""),B(null)},z=()=>{try{F.push({pathname:"/MyBlogs",query:{myProp:q}})}catch(e){console.error(e.message)}},A=()=>{try{F.push({pathname:"/Home",query:{myProp:q}})}catch(e){console.error(e.message)}},N=()=>{try{F.push({pathname:"/WriteBlogs",query:{myProp:q}})}catch(e){console.error(e.message)}};return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"},children:[(0,i.jsx)(o.Z,{position:"fixed",style:{background:"#00cc66"},children:(0,i.jsx)(a.Z,{maxWidth:"xl",children:(0,i.jsxs)(l.Z,{disableGutters:!0,children:[(0,i.jsx)(s.Z,{variant:"h6",noWrap:!0,component:"a",onClick:A,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Home"}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",position:"fixed",right:5},children:[(0,i.jsx)(d.Z,{children:(0,i.jsx)(s.Z,{noWrap:!0,component:"a",onClick:z,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"Roboto",color:"inherit",textDecoration:"none"},children:"My Blogs"})}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(s.Z,{noWrap:!0,component:"a",onClick:N,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"Roboto",color:"inherit",textDecoration:"none"},children:"Create Blogs"})}),(0,i.jsx)(c.Z,{alt:"user"})]})]})})}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"90%",margin:"0 auto"},children:(0,i.jsx)("div",{style:{height:600,margin:"0 auto",width:"110vh"},children:(0,i.jsx)(m.Z,{style:{justifyContent:"center",width:"90vh",backgroundColor:"#baff004a",padding:40},children:(0,i.jsxs)(f.Z,{children:[" ",(0,i.jsx)("div",{style:{marginTop:3},children:(0,i.jsxs)("div",{style:{marginTop:5,marginLeft:10},children:[(0,i.jsx)(s.Z,{style:v,children:"Title"}),(0,i.jsx)(y.Z,{name:"title",style:Z,label:"Write title here.",variant:"standard",value:n,onChange:e=>h(e.target.value)})]})}),(0,i.jsxs)("div",{style:{marginTop:5},children:[(0,i.jsx)(s.Z,{style:v,children:"Sub description"}),(0,i.jsx)(y.Z,{name:"subDescription",style:Z,label:"Write a short description about the blog.",variant:"standard",value:C,onChange:e=>w(e.target.value)})]}),(0,i.jsxs)("div",{style:{marginTop:5},children:[(0,i.jsx)(s.Z,{style:v,children:"Description"}),(0,i.jsx)(y.Z,{name:"description",label:"Write your blog here.",multiline:!0,rows:10,style:Z,value:k,onChange:e=>S(e.target.value)})]}),(0,i.jsx)(s.Z,{style:v,children:"Image"}),(0,i.jsx)("input",{type:"file",onChange:E}),D?(0,i.jsx)(g.Z,{style:{color:"black",border:"1px solid #006600",textTransform:"none"},onClick:L,children:"Upload"}):"",(0,i.jsxs)("div",{style:{marginTop:32,display:"flex",flexDirection:"row",marginRight:2,marginBottom:16,marginLeft:26},children:[(0,i.jsx)(b,{variant:"outlined",style:{color:"black",border:"1px solid #006600",marginLeft:"auto",marginRight:11},onClick:H,children:"Cancel"}),(0,i.jsx)(j,{variant:"contained",onClick:O,children:"Publish"})]})]})})})})]})};t.default=C},9324:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var i=n(3977),r=n(6650);let o=(0,i.ZF)({apiKey:"AIzaSyAzxqbJC2a0QaRqOfHx5_bT4CwDJs4y5HY",authDomain:"blogs-5e979.firebaseapp.com",projectId:"blogs-5e979",storageBucket:"blogs-5e979.appspot.com",messagingSenderId:"464066675542",appId:"1:464066675542:web:e13510d337bafa2a034cf7"}),l=(0,r.cF)(o)}},function(e){e.O(0,[774,616,681,686,410,886,838,755,888,179],function(){return e(e.s=4406)}),_N_E=e.O()}]);