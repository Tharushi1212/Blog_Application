(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{4121:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/WriteBlogs",function(){return l(6059)}])},6059:function(e,t,l){"use strict";l.r(t);var n=l(5893),i=l(1163),o=l(2293),r=l(155),a=l(5861),s=l(3156),c=l(9661),d=l(5819),h=l(948),u=l(9324),g=l(6650),f=l(7294),x=l(3321),m=l(4054),p=l(7357),y=l(1903);let j=(0,h.ZP)(x.Z)(e=>{let{theme:t}=e;return{backgroundColor:"#006600","&:hover":{backgroundColor:"#006600"},outlineColor:"#006600",color:"white"}}),b=(0,h.ZP)(x.Z)(e=>{let{theme:t}=e;return{color:"black"}}),v={marginBottom:3,fontSize:30,fontWeight:10},C={width:"100%",marginBottom:50},Z=()=>{let[e,t]=(0,f.useState)(""),[l,h]=(0,f.useState)(""),[Z,w]=(0,f.useState)(""),[k,S]=(0,f.useState)(""),[P,T]=(0,f.useState)(null),[_,W]=(0,f.useState)(""),[D,B]=(0,f.useState)(null),[E,q]=(0,f.useState)(""),N=(0,i.useRouter)(),{myProp:R}=N.query;(0,f.useEffect)(()=>{t(R)},[R]);let F=e=>{let t=e.target.files[0];t&&(T(t),W(t.name))},H=async()=>{let e=(0,g.iH)(u.t,_);(0,g.KV)(e,P).then(()=>{(0,g.Jt)(e).then(e=>{B(e)}).catch(e=>{console.error(e.message,"Error getting image url")}),T(null)})},I=e=>{""==l&&""==k&&""==Z?alert("Please fill all the fields."):""==l?alert("Please fill all the fields."):""==k?alert("Please fill all the fields."):""==Z?alert("Please fill all the fields."):""==l&&""==Z?alert("Please fill all the fields."):""==l&&""==Z?alert("Please fill all the fields."):""===e?alert("Please upload an image."):l.length>30?alert("Title word limit exceeded."):Z.length>200?alert("Sub description is too long."):O(e)},O=async()=>{try{let t=await fetch("http://localhost:5000/blogs/WriteBlogs",{method:"POST",body:JSON.stringify({title:l,subDescription:Z,description:k,email:e,url:D}),headers:{"Content-Type":"application/json"}}),n=await t.json();n&&alert("Successfully published.")}catch(e){console.error(e.message)}h(""),w(""),S(""),B(""),W("")},J=()=>{h(""),w(""),S(""),T(null)},z=()=>{try{N.push({pathname:"/MyBlogs",query:{myProp:R}})}catch(e){console.error(e.message)}},L=()=>{try{N.push({pathname:"/Home",query:{myProp:R}})}catch(e){console.error(e.message)}},A=()=>{try{N.push({pathname:"/WriteBlogs",query:{myProp:R}})}catch(e){console.error(e.message)}};return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"},children:[(0,n.jsx)(o.Z,{position:"fixed",style:{background:"#00cc66"},children:(0,n.jsx)(s.Z,{maxWidth:"xl",children:(0,n.jsxs)(r.Z,{disableGutters:!0,children:[(0,n.jsx)(a.Z,{variant:"h6",noWrap:!0,component:"a",onClick:L,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Home"}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",position:"fixed",right:5},children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(a.Z,{noWrap:!0,component:"a",onClick:z,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"Roboto",color:"inherit",textDecoration:"none"},children:"My Blogs"})}),(0,n.jsx)(d.Z,{children:(0,n.jsx)(a.Z,{noWrap:!0,component:"a",onClick:A,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"Roboto",color:"inherit",textDecoration:"none"},children:"Create Blogs"})}),(0,n.jsx)(c.Z,{alt:"user"})]})]})})}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"90%",margin:"0 auto"},children:(0,n.jsx)("div",{style:{height:600,margin:"0 auto",width:"110vh"},children:(0,n.jsx)(m.Z,{style:{justifyContent:"center",width:"90vh",backgroundColor:"#baff004a",padding:40},children:(0,n.jsxs)(p.Z,{children:[" ",(0,n.jsx)("div",{style:{marginTop:3},children:(0,n.jsxs)("div",{style:{marginTop:5,marginLeft:10},children:[(0,n.jsx)(a.Z,{style:v,children:"Title"}),(0,n.jsx)(y.Z,{name:"title",style:C,label:"Write title here.",variant:"standard",value:l,onChange:e=>h(e.target.value)})]})}),(0,n.jsxs)("div",{style:{marginTop:5},children:[(0,n.jsx)(a.Z,{style:v,children:"Sub description"}),(0,n.jsx)(y.Z,{name:"subDescription",style:C,label:"Write a short description about the blog.",variant:"standard",value:Z,onChange:e=>w(e.target.value)})]}),(0,n.jsxs)("div",{style:{marginTop:5},children:[(0,n.jsx)(a.Z,{style:v,children:"Description"}),(0,n.jsx)(y.Z,{name:"description",label:"Write your blog here.",multiline:!0,rows:10,style:C,value:k,onChange:e=>S(e.target.value)})]}),(0,n.jsx)(a.Z,{style:v,children:"Image"}),(0,n.jsx)("input",{type:"file",onChange:F}),P?(0,n.jsx)(x.Z,{style:{color:"black",border:"1px solid #006600",textTransform:"none"},onClick:H,children:"Upload"}):"",(0,n.jsxs)("div",{style:{marginTop:32,display:"flex",flexDirection:"row",marginRight:2,marginBottom:16,marginLeft:26},children:[(0,n.jsx)(b,{variant:"outlined",style:{color:"black",border:"1px solid #006600",marginLeft:"auto",marginRight:11},onClick:J,children:"Cancel"}),(0,n.jsx)(j,{variant:"contained",onClick:I,children:"Publish"})]})]})})})})]})};t.default=Z},9324:function(e,t,l){"use strict";l.d(t,{t:function(){return r}});var n=l(3977),i=l(6650);let o=(0,n.ZF)({apiKey:"AIzaSyAzxqbJC2a0QaRqOfHx5_bT4CwDJs4y5HY",authDomain:"blogs-5e979.firebaseapp.com",projectId:"blogs-5e979",storageBucket:"blogs-5e979.appspot.com",messagingSenderId:"464066675542",appId:"1:464066675542:web:e13510d337bafa2a034cf7"}),r=(0,i.cF)(o)}},function(e){e.O(0,[774,616,681,686,410,838,888,179],function(){return e(e.s=4121)}),_N_E=e.O()}]);