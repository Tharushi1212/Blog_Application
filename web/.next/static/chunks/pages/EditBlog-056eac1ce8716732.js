(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{5732:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/EditBlog",function(){return l(5939)}])},5939:function(e,t,l){"use strict";l.r(t);var n=l(5893),i=l(1163),o=l(2293),r=l(155),a=l(5861),s=l(3156),c=l(9661),d=l(5819),h=l(948),u=l(9324),g=l(6650),f=l(7294),p=l(3321),m=l(4054),x=l(7357),y=l(1903);let j=(0,h.ZP)(p.Z)(e=>{let{theme:t}=e;return{backgroundColor:"#006600","&:hover":{backgroundColor:"#006600"},outlineColor:"#006600",color:"white"}}),b=(0,h.ZP)(p.Z)(e=>{let{theme:t}=e;return{color:"black"}}),v={marginBottom:3,fontSize:30,fontWeight:10},C={width:"100%",marginBottom:50},Z=()=>{let[e,t]=(0,f.useState)(""),[l,h]=(0,f.useState)(""),[Z,w]=(0,f.useState)(""),[k,S]=(0,f.useState)(null),[B,P]=(0,f.useState)(""),[T,_]=(0,f.useState)(null),D=(0,i.useRouter)(),{id:W}=D.query,{myProp:E}=D.query||{};(0,f.useEffect)(()=>{I()},[W,E]);let I=async()=>{let e=await fetch("http://localhost:5000/blogs/getBlogById/".concat(W)),l=await e.json();l&&(t(l.title),h(l.subDescription),w(l.description),_(l.url))},q=e=>{let t=e.target.files[0];t&&(S(t),P(t.name))},N=async()=>{let e=(0,g.iH)(u.t,B);(0,g.KV)(e,k).then(()=>{(0,g.Jt)(e).then(e=>{_(e)}).catch(e=>{console.error(e.message,"Error getting image url")}),S(null)})},R=()=>{""==e&&""==Z&&""==l?alert("Please fill all the fields."):""==e?alert("Please fill all the fields."):""==Z?alert("Please fill all the fields."):""==l?alert("Please fill all the fields."):""==e&&""==l?alert("Please fill all the fields."):""==e&&""==l?alert("Please fill all the fields."):""===T?alert("Please upload an image."):e.length>30?alert("Title word limit exceeded."):l.length>200?alert("Sub description is too long."):F()},F=async()=>{try{let t=await fetch("http://localhost:5000/blogs/updateBlogById/".concat(W),{method:"PUT",body:JSON.stringify({title:e,subDescription:l,description:Z,url:T}),headers:{"Content-Type":"application/json"}}),n=await t.json();null!==n.title?alert("Inserted sucessfully."):alert("Some thing went wrong.")}catch(e){console.error(e.message)}t(""),h(""),w(""),_(""),P("")},H=()=>{t(""),h(""),w(""),S(null)},J=()=>{try{D.push({pathname:"/MyBlogs",query:{myProp:E}})}catch(e){console.error(e.message)}},O=()=>{try{D.push({pathname:"/Home",query:{myProp:E}})}catch(e){console.error(e.message)}},z=()=>{try{D.push({pathname:"/WriteBlogs",query:{myProp:E}})}catch(e){console.error(e.message)}};return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"},children:[(0,n.jsx)(o.Z,{position:"fixed",style:{background:"#00cc66"},children:(0,n.jsx)(s.Z,{maxWidth:"xl",children:(0,n.jsxs)(r.Z,{disableGutters:!0,children:[(0,n.jsx)(a.Z,{variant:"h6",noWrap:!0,component:"a",onClick:O,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Home"}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",position:"fixed",right:5},children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(a.Z,{noWrap:!0,component:"a",onClick:J,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"Roboto",color:"inherit",textDecoration:"none"},children:"My Blogs"})}),(0,n.jsx)(d.Z,{children:(0,n.jsx)(a.Z,{noWrap:!0,component:"a",onClick:z,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"Roboto",color:"inherit",textDecoration:"none"},children:"Create Blogs"})}),(0,n.jsx)(c.Z,{alt:"user"})]})]})})}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"90%",margin:"0 auto"},children:(0,n.jsx)("div",{style:{height:600,margin:"0 auto",width:"110vh"},children:(0,n.jsx)(m.Z,{style:{justifyContent:"center",width:"90vh",backgroundColor:"#baff004a",padding:40},children:(0,n.jsxs)(x.Z,{children:[" ",(0,n.jsx)("div",{style:{marginTop:3},children:(0,n.jsxs)("div",{style:{marginTop:5,marginLeft:10},children:[(0,n.jsx)(a.Z,{style:v,children:"Title"}),(0,n.jsx)(y.Z,{name:"title",style:C,label:"Write title here.",variant:"standard",value:e,onChange:e=>t(e.target.value)})]})}),(0,n.jsxs)("div",{style:{marginTop:5},children:[(0,n.jsx)(a.Z,{style:v,children:"Sub description"}),(0,n.jsx)(y.Z,{name:"subDescription",style:C,label:"Write a short description about the blog.",variant:"standard",value:l,onChange:e=>h(e.target.value)})]}),(0,n.jsxs)("div",{style:{marginTop:5},children:[(0,n.jsx)(a.Z,{style:v,children:"Description"}),(0,n.jsx)(y.Z,{name:"description",label:"Write your blog here.",multiline:!0,rows:10,style:C,value:Z,onChange:e=>w(e.target.value)})]}),(0,n.jsx)(a.Z,{style:v,children:"Image"}),(0,n.jsx)("input",{type:"file",onChange:q}),k?(0,n.jsx)(p.Z,{style:{color:"black",border:"1px solid #006600",textTransform:"none"},onClick:N,children:"Upload"}):"",(0,n.jsxs)("div",{style:{marginTop:32,display:"flex",flexDirection:"row",marginRight:2,marginBottom:16,marginLeft:26},children:[(0,n.jsx)(b,{variant:"outlined",style:{color:"black",border:"1px solid #006600",marginLeft:"auto",marginRight:11},onClick:H,children:"Cancel"}),(0,n.jsx)(j,{variant:"contained",onClick:R,children:"Publish"})]})]})})})})]})};t.default=Z},9324:function(e,t,l){"use strict";l.d(t,{t:function(){return r}});var n=l(3977),i=l(6650);let o=(0,n.ZF)({apiKey:"AIzaSyAzxqbJC2a0QaRqOfHx5_bT4CwDJs4y5HY",authDomain:"blogs-5e979.firebaseapp.com",projectId:"blogs-5e979",storageBucket:"blogs-5e979.appspot.com",messagingSenderId:"464066675542",appId:"1:464066675542:web:e13510d337bafa2a034cf7"}),r=(0,i.cF)(o)}},function(e){e.O(0,[774,616,681,686,410,838,888,179],function(){return e(e.s=5732)}),_N_E=e.O()}]);